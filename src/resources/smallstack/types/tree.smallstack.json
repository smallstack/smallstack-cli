{
    "collection": {
        "name": "trees"
    },
    "service": {
        "name": "TreeService",
        "queries": [
            {
                "name": "myTrees",
                "selector": {
                    "ownerId": "$currentUserId"
                }
            }
        ],
        "securedMethods": [
            {
                "name": "plantTree",
                "parameters": [
                    "name:string",
                    "type:string"
                ],
                "visibility": "server"
            },
            {
                "name": "waterTree",
                "parameters": [
                    "treeId:string"
                ],
                "visibility": "both"
            }
        ]
    },
    "model": {
        "name": "Tree",
        "schema": [
            {
                "name": "name",
                "type": "string"
            },
            {
                "name": "type",
                "type": "string",
                "allowedValues": [
                    "oak",
                    "pine",
                    "birch",
                    "sequoia",
                    "fir"
                ]
            },
            {
                "name": "lastTimeWatered",
                "type": "date",
                "optional": true
            },
            {
                "name": "leaves",
                "type": "foreign[]",
                "collection": "leaves",
                "optional": true
            }
        ]
    }
}